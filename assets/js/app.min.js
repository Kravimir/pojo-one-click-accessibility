/*! pojo-accessibility - v1.0.2 - 27-01-2016 */
!function(){var a=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,b=navigator.userAgent.toLowerCase().indexOf("opera")>-1,c=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(a||b||c)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var a,b=location.hash.substring(1);/^[A-z0-9_-]+$/.test(b)&&(a=document.getElementById(b),a&&(/^(?:a|select|input|button|textarea)$/i.test(a.tagName)||(a.tabIndex=-1),a.focus()))},!1)}(),function(a,b,c,d){"use strict";var e={cache:{$document:a(c),$window:a(b)},cacheElements:function(){this.cache.$toolbar=a("#pojo-a11y-toolbar"),this.cache.$toolbarLinks=this.cache.$toolbar.find("div.pojo-a11y-toolbar-overlay a.pojo-a11y-toolbar-link"),this.cache.$btnToolbarToggle=this.cache.$toolbar.find("div.pojo-a11y-toolbar-toggle > a"),this.cache.$btnBackgrounGroup=this.cache.$toolbar.find("a.pojo-a11y-btn-background-group"),this.cache.$skipToContent=a("#pojo-a11y-skip-content"),this.cache.$body=a("body")},buildElements:function(){this.cache.$body.prepend(this.cache.$toolbar),this.cache.$body.prepend(this.cache.$skipToContent)},bindEvents:function(){var a=this;a.cache.$btnToolbarToggle.on("click",function(b){b.preventDefault(),a.cache.$toolbar.toggleClass("pojo-a11y-toolbar-open"),a.cache.$toolbar.hasClass("pojo-a11y-toolbar-open")?a.cache.$toolbarLinks.attr("tabindex","0"):a.cache.$toolbarLinks.attr("tabindex","-1")}).on("focus",function(b){b.preventDefault(),a.cache.$toolbar.addClass("pojo-a11y-toolbar-open"),a.cache.$toolbarLinks.attr("tabindex","0")}),a.bindToolbarButtons()},bindToolbarButtons:function(){var b=this;b.currentFontSize=120,b.cache.$toolbar.find("a.pojo-a11y-btn-resize-font").on("click",function(c){c.preventDefault();var d=200,e=120,f=a(this).data("action"),g=b.currentFontSize;"plus"===f&&d>g&&(b.currentFontSize+=10),"minus"===f&&g>e&&(b.currentFontSize-=10),b.cache.$body.removeClass("pojo-a11y-resize-font-"+g),120!==b.currentFontSize?(b.cache.$toolbar.find("a.pojo-a11y-btn-resize-plus").addClass("active"),b.cache.$body.addClass("pojo-a11y-resize-font-"+b.currentFontSize)):b.cache.$toolbar.find("a.pojo-a11y-btn-resize-plus").removeClass("active"),b.cache.$window.trigger("resize")}),b.cache.$btnBackgrounGroup.on("click",function(c){c.preventDefault();var d=a(this).data("action"),e=a(this).hasClass("active"),f={grayscale:"pojo-a11y-grayscale",high_contrast:"pojo-a11y-high-contrast",negative_contrast:"pojo-a11y-negative-contrast","light-bg":"pojo-a11y-light-background"};a.each(f,function(a,c){d!==a||e?b.cache.$body.removeClass(c):b.cache.$body.addClass(c)}),b.cache.$btnBackgrounGroup.removeClass("active"),e||a(this).addClass("active")}),b.cache.$toolbar.find("a.pojo-a11y-btn-links-underline").on("click",function(c){c.preventDefault(),b.cache.$body.toggleClass("pojo-a11y-links-underline"),a(this).toggleClass("active")}),b.cache.$toolbar.find("a.pojo-a11y-btn-readable-font").on("click",function(c){c.preventDefault(),b.cache.$body.toggleClass("pojo-a11y-readable-font"),a(this).toggleClass("active")}),b.cache.$toolbar.find("a.pojo-a11y-btn-reset").on("click",function(a){a.preventDefault(),b.cache.$body.removeClass("pojo-a11y-grayscale pojo-a11y-high-contrast pojo-a11y-negative-contrast pojo-a11y-light-background pojo-a11y-links-underline pojo-a11y-readable-font"),b.cache.$toolbarLinks.removeClass("active");var c=120;b.cache.$body.removeClass("pojo-a11y-resize-font-"+b.currentFontSize),b.currentFontSize=c})},handleGlobalOptions:function(){"1"===PojoA11yOptions.focusable&&this.cache.$body.addClass("pojo-a11y-focusable"),"1"===PojoA11yOptions.remove_link_target&&a('a[target="_blank"]').attr("target",""),"1"===PojoA11yOptions.add_role_links&&a("a").attr("role","link")},init:function(){this.cacheElements(),this.buildElements(),this.bindEvents(),this.handleGlobalOptions()}};a(c).ready(function(a){e.init()})}(jQuery,window,document);